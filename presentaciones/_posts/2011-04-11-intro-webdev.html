---
title: Introducción al desarrollo web 
---
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Introducción al desarrollo web</title>

  <link rel="stylesheet" href="/css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="/css/style.css" type="text/css"/>
  <link rel="stylesheet" href="/css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="/js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="/js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="/js/jquery-print.js"></script>
  <script type="text/javascript" src="/js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="/js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="/js/fg.menu.js"></script>
  <script type="text/javascript" src="/js/showoff.js"></script>
  <script type="text/javascript" src="/js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="/js/sh_main.min.js"></script>
  <script type="text/javascript" src="/js/core.js"></script>
  <script type="text/javascript" src="/js/showoffcore.js"></script>

  <link type="text/css" href="/css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="/css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="/css/sh_style.css" rel="stylesheet" >

  
  

  

  <script type="text/javascript">
  $(function(){
    setupPreso(false, './');
  });
  </script>
</head>

<body>


<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">&larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">z</td><td>toggle help (this)</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content" ref="http/request-response/1">
<h2>Desarrollo web en python</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="http/request-response/2">
<h2>La base de todo: HTTP</h2>

<ul>
<li>Tu computadora habla HTTP con un servidor</li>
<li>HTTP: Protocolo de Transporte de Hiper-Texto</li>
<li><strong>&#xA1;S&#xF3;lo hay archivos de texto involucrados!</strong></li>
<li>Todo est&#xE1; basado en el ciclo <strong>Solicitud-Respuesta</strong></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="http/request-response/3">
<p><img src="/images/rr.gif" width="352" height="192" alt="rr"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="http/request-response/4">
<h2>El cliente</h2>

<ul>
<li>Cualquier programa que pueda hablar HTTP</li>
<li>Crea una solicitud en texto y la env&#xED;a</li>
<li>Partes: <em>Verbo</em>, <em>Ruta</em>, [<em>Encabezados</em>]</li>
<li>Qu&#xE9; hacer, ad&#xF3;nde hacerlo, informaci&#xF3;n extra (opcional)</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="http/request-response/5">
<h2>Magia</h2>

<pre class="sh_python"><code>def application(environ, response_callback)
    text = 'Hola Mundo!\n'
    response_callback(
          "200 OK",
          [('Content-Type', 'text/plain'),
           ('Content-Length', str(len(text)))]
          )
    return [text]

from wsgiref.simple_server import make_server

daemon = make_server('127.0.0.1', 8000, application)

daemon.handle_request()</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="http/request-response/6">
<pre><code><code class="command">$ curl -v http://127.0.0.1:8000 </code><code class="result">

GET / HTTP/1.1
User-Agent: curl/7.19.7 (i486-pc-linux-gnu)
Host: 127.0.0.1:8000
Accept: */*
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="http/request-response/7">
<h2>http://google.com:80/?q=python#results</h2>

<ul>
<li><code>http://</code> : el <em>protocolo</em></li>
<li><code>google.com</code>: <em>host</em> (o dominio)</li>
<li><code>:80</code>: puerto (opcional, <code>80</code> por omisi&#xF3;n)</li>
<li><code>/</code>: <em>ruta (path)</em></li>
<li><code>?q=python</code> : <em>querystring</em>, los par&#xE1;metros</li>
<li><code>#results</code>: <em>fragmento</em> (s&#xF3;lo accesible en el cliente)</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="http/request-response/8">
<h2>El servidor</h2>

<ul>
<li>Un programa est&#xE1; esperando conexiones (<code>Apache</code>, <code>nginx</code>, etc.)</li>
<li>Usa <em>magia</em> para generar una respuesta</li>
<li>Partes: <em>C&#xF3;digo de estado</em>, <em>Encabezados</em>, [<em>Cuerpo</em>]</li>
<li>C&#xF3;mo sali&#xF3; todo, meta-data, lo que pediste (opcional)</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="http/request-response/9">
<pre><code><code class="command">$ curl -v http://127.0.0.1:8000 </code><code class="result">

HTTP/1.0 200 OK
Date: Mon, 11 Apr 2011 17:39:00 GMT
Server: WSGIServer/0.1 Python/2.6.5
Content-Type: text/plain
Content-Length: 12

Hola Mundo!
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="http/request-response/10">
<h2>Verbos HTTP:</h2>

<ul>
<li>GET: leer un recurso</li>
<li>POST: actualizar un recurso</li>
<li>PUT: crear un recurso</li>
<li>DELETE: borrar un recurso</li>
<li>HEAD et al.</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="http/request-response/11">
<h2>C&#xF3;digos de estado</h2>

<ul>
<li>1XX y 2XX: todo sali&#xF3; bien</li>
<li>3XX: redirecciones</li>
<li>4XX: error de cliente (<em>vos</em> hiciste algo mal)</li>
<li>5XX: error de servidor</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="http/request-response/12">
<h2>Encabezados</h2>

<ul>
<li>Son totalmente arbitratios</li>
<li>Meta-data</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="http/request-response/13">
<h2>HTTP no tiene estado</h2>

<ul>
<li>El servidor no tiene memoria entre solicitudes</li>
<li>Toda la informaci&#xF3;n tiene que estar en la solicitud</li>
<li>Si quer&#xE9;s que persista, podr&#xED;as usar el truco de las
cookies: mandar la informaci&#xF3;n en encabezados</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rest/abstraction/1">
<h2>REST: la web como recursos</h2>

<ul>
<li>En bases de datos: <code>CREATE</code>, <code>READ</code>, <code>UPDATE</code>, <code>DESTROY</code></li>
<li>En HTTP: <code>POST</code>, <code>GET</code>, <code>PUT</code>, <code>DELETE</code></li>
<li>En sistemas de archivos: <code>/home/lfborjas/conquistar_el_mundo.txt</code></li>
<li>En HTTP: <code>http://unblogx.com/posts/zalgo</code></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="rest/abstraction/2">
<h2>REST: usar el protocolo</h2>

<ul>
<li><em>Malo</em>: <code>GET http://misitio.com/index.php?func=editarPerfil&amp;nombre=luis&amp;id=666</code></li>
<li><em>Bueno</em>: <code>POST http://misitio.com/perfiles/666</code></li>
<li>REST aprovecha los verbos y la sem&#xE1;ntica de las rutas, as&#xED; como los c&#xF3;digos de estado.</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="wsgi/servers/1">
<h2>En las entra&#xF1;as del servidor</h2>

<ul>
<li>Hay un "daemon" que est&#xE1; escuchando conexiones</li>
<li>A veces &#xE9;l sabe qu&#xE9; hacer</li>
<li>A veces le pasa el control a programas</li>
<li>Y &#xE9;stos a veces interact&#xFA;an con bases de datos</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="wsgi/servers/2">
<p><img src="/images/wsgi.png" width="960" height="720" alt="wsgi"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="wsgi/servers/3">
<h2>&#xBF;Magia?</h2>

<ul>
<li>WSGI: Interfaz Est&#xE1;ndar de Servidor Web</li>
<li>Una convenci&#xF3;n para escribir web-apps en python</li>
<li>Todo lo dem&#xE1;s funciona sobre &#xE9;sta</li>
<li>Intermediario: llena "entorno" y delega control a "controladores"</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="wsgi/servers/4">
<pre class="sh_python"><code>def application(environ, #entorno
                response_callback) #constructor de respuestas
    text = 'Hola Mundo!\n'
    response_callback(
          "200 OK",
          [('Content-Type', 'text/plain'),
           ('Content-Length', str(len(text)))]
          )
    return [text] 

from wsgiref.simple_server import make_server

daemon = make_server('127.0.0.1', 8000, application)

daemon.handle_request()</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="wsgi/servers/5">
<h2>El est&#xE1;ndar WSGI</h2>

<ul>
<li>Va a llamar a una funci&#xF3;n que reciba un <em>entorno</em> y un <em>constructor de respuestas</em></li>
<li>&#xC9;sta debe devolver un iterable como su cuerpo</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="wsgi/servers/6">
<h2>Middleware</h2>

<ul>
<li>Software que manipula solicitudes o respuesta antes de que lleguen a nuestra aplicaci&#xF3;n</li>
<li>Puede haber varias capas de middleware</li>
<li>Condici&#xF3;n: tiene que ser <code>callable</code></li>
<li>&#xBF;Para qu&#xE9; sirve? Autenticaci&#xF3;n, optimizaci&#xF3;n, validaci&#xF3;n, etc.</li>
<li>Los frameworks suelen tener una abstracci&#xF3;n para eso</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="wsgi/servers/7">
<pre class="sh_python"><code>class ReverseMiddleware:
    def __init__(self, app):
        self.wrapped_app = app

    def __call__(self, environ, start_response):
        for data in self.wrapped_app(environ,
                            start_response):
            return data[::-1]


from wsgiref.simple_server import make_server
daemon = make_server('127.0.0.1'
                     , 8000
                     , ReverseMiddleware(application))
daemon.handle_request()</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="wsgi/servers/8">
<h2>Inventando realidades</h2>

<ul>
<li>Existen varios frameworks, pero todos se basan en <em>abstracciones</em></li>
<li>Lo m&#xE1;s b&#xE1;sico: Solicitudes/Respuestas como objetos y no archivos</li>
<li>Lo m&#xE1;s avanzado: MVC: Modelos-Vistas-Controladores</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="wsgi/servers/9">
<pre class="sh_python"><code>from webob import Request, Response

def sum_nums(text):
return sum([int(e) for e in text if e.isdigit()])

def app(environ, start_response):
request = Request(environ)
text = ''.join(request.GET.keys())
response = Response(content_type='text/html',
      body="""&lt;html&gt;
                &lt;body style='font-size: 250px;'&gt;
                %s
                &lt;body&gt;
             &lt;/html&gt;"""%sum_nums(text))
return response(environ, start_response)

from paste.httpserver import serve
serve(app)</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="wsgi/servers/10">
<h2>Referencias</h2>

<ul>
<li><a href="http://k0s.org/mozilla/craft/http.html">Web services in python</a></li>
<li><a href="http://wsgi.org/wsgi/Learn_WSGI">Learn WSGI</a></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="mvc/intro/1">
<h2>MVC: separaci&#xF3;n de preocupaciones</h2>

<ul>
<li>Los modelos se encargan de los datos</li>
<li>Las vistas, de la presentaci&#xF3;n</li>
<li>Los controladores, de recibir la solicitud, pasarle el control a modelos
y de gestionar las vistas, para luego responder.</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="mvc/intro/2">
<p><img src="/images/mvc.png" width="960" height="720" alt="mvc"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets incremental" ref="django/framework/1">
<h2>Django (ver 1.3)</h2>

<ul>
<li>Esta basado en el modelo MVC</li>
<li>Bueno, m&#xE1;s o menos...</li>
<li>En realidad es MTV</li>
<li>Est&#xE1; hecho en sexy Python! :D</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="django/framework/2">
<h2>Urls, las puertas de la aplicaci&#xF3;n</h2>

<pre class="sh_python"><code>url(r'^$', 'lista.views.crear',
    name='home'),

url(r'^(?P&lt;codigo&gt;[a-zA-Z0-9]+)/$', 'lista.views.mostrar',
    name='lista'),

url(r'^tarea/', include('tarea.urls')),</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="django/framework/3">
<h2>Views, el coraz&#xF3;n</h2>

<pre class="sh_python"><code>def mostrar(request, codigo):
    lista = Lista.objects.get(codigo=codigo)

    #Guardamos para actualizar la fecha de acceso
    lista.save()

    return render_to_response('lista/mostar.html',
                    {'lista':lista},
                    context_instance=
                        RequestContext(request))</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="django/framework/4">
<h2>Modelos, el enlace a la base de datos</h2>

<pre class="sh_python"><code>class Lista(models.Model):
    codigo = models.TextField(max_length=10)
    titulo = models.TextField(null=True,
                              blank=True,
                              default='')
    fecha_creacion = models.DateTimeField(auto_now_add=True)
    fecha_acceso = models.DateTimeField(auto_now=True)</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content code small" ref="django/framework/5">
<h2>Templates, lo que el usuario ve</h2>

<pre class="sh_html"><code>{% if lista.tarea_set.exists %}
    &lt;ul id="lista_tareas"&gt;
    {% for tarea in lista.tarea_set.all %}
      &lt;li&gt;
        &lt;input type="checkbox" name="hecha"
               value="{{ tarea.id }}" class="hecha-check"
               {% if tarea.hecha %}checked{% endif %}&gt;

        &lt;span class=
            "{% if tarea.hecha %}tachado{% endif %}"&gt;
            {{ tarea.descripcion }}
        &lt;/span&gt;

      &lt;/li&gt;
    {% endfor %}
    &lt;/ul&gt;
{% endif %}</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets incremental" ref="django/framework/6">
<h2>Otras cosas que deber&#xED;as de aprender...</h2>

<ul>
<li>HTML</li>
<li>Javascript (not enough JQuery...)</li>
<li>Sysadmin</li>
</ul>

</div>
</div>
</div>

</body>
</html>
